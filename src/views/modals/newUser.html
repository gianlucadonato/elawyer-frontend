<!-- CREATE USER -->
<div class="card">
  <div class="card-header ch-alt">
    <h3 style="margin:0; font-weight:300;">
      <i class="zmdi zmdi-account-circle m-r-5"></i> Crea Nuovo
      <span ng-if="newUser == 'user'">Utente</span>
      <span ng-if="newUser == 'lawyer'">Avvocato</span>
    </h3>
  </div>
  <div class="card-body card-padding">
    <form class="pmbb-edit" ng-submit="createUser(user)">
      <dl class="dl-horizontal">
        <dt class="p-t-10">Nome</dt>
        <dd>
          <div class="fg-line">
            <input data-ng-model="user.first_name" type="text" class="form-control" placeholder="eg. Mario" required>
          </div>
        </dd>
      </dl>
      <dl class="dl-horizontal">
        <dt class="p-t-10">Cognome</dt>
        <dd>
          <div class="fg-line">
            <input data-ng-model="user.last_name" type="text" class="form-control" placeholder="eg. Rossi" required>
          </div>
        </dd>
      </dl>
      <dl class="dl-horizontal">
        <dt class="p-t-10">Email</dt>
        <dd>
          <div class="fg-line">
            <input data-ng-model="user.email" type="email" class="form-control"  placeholder="eg. mrossi@gmail.com" required>
          </div>
          <span ng-if="userExistsError" style="color:red;">
            Utente gi√† esistente! Inserire un email diversa.
          </span>
        </dd>
      </dl>
      <dl class="dl-horizontal">
        <dt class="p-t-10">Luogo di Nascita</dt>
        <dd>
          <div class="fg-line">
            <input type="text" ng-model="user.birth_place" placeholder="Inserisci Luogo di Nascita" uib-typeahead="address for address in getLocation($viewValue)" typeahead-loading="loadingLocations" class="form-control">
          </div>
        </dd>
      </dl>
      <dl class="dl-horizontal">
        <dt class="p-t-10">Residenza</dt>
        <dd>
          <div class="fg-line">
            <input type="text" ng-model="user.residence" placeholder="Inserisci Residenza" uib-typeahead="address for address in getLocation($viewValue)" typeahead-loading="loadingLocations" class="form-control">
          </div>
        </dd>
      </dl>
      <dl class="dl-horizontal">
        <dt class="p-t-10">Domicilio</dt>
        <dd>
          <div class="fg-line">
            <input type="text" ng-model="user.domicile" placeholder="Inserisci Domicilio" uib-typeahead="address for address in getLocation($viewValue)" typeahead-loading="loadingLocations" class="form-control">
          </div>
        </dd>
      </dl>
      <dl class="dl-horizontal">
        <dt class="p-t-10">Codice Fiscale</dt>
        <dd>
          <div class="fg-line">
            <input data-ng-model="user.fiscal_code" type="text" class="form-control" placeholder="Inserisci Codice Fiscale">
          </div>
        </dd>
      </dl>
      <dl class="dl-horizontal">
        <dt class="p-t-10">Partita Iva</dt>
        <dd>
          <div class="fg-line">
            <input data-ng-model="user.vat_number" type="text" class="form-control" placeholder="Inserisci P.Iva">
          </div>
        </dd>
      </dl>
      <dl class="dl-horizontal">
        <dt class="p-t-10">Telefono Fisso</dt>
        <dd>
          <div class="fg-line">
            <input data-ng-model="user.phone" type="text" class="form-control" data-input-mask="{mask: '0000 000000'}" placeholder="eg. 0422 123321">
          </div>
        </dd>
      </dl>
      <dl class="dl-horizontal">
        <dt class="p-t-10">Telefono Cellulare</dt>
        <dd>
          <div class="fg-line">
            <input data-ng-model="user.mobile_phone" type="text" class="form-control" data-input-mask="{mask: '000 0000000'}" placeholder="eg. 340 1231986">
          </div>
        </dd>
      </dl>
      <dl class="dl-horizontal">
        <dt class="p-t-10">Azienda</dt>
        <dd>
          <div class="m-t-10">
            <ul style="padding-left: 15px;">
              <li ng-repeat="company in user.companies">
                {{company.name}}
                <a href="" ng-click="removeCompany(company)" style="margin-left:5px;color:red;">X</a>
              </li>
            </ul>
            <a href="" ng-click="showAddCompany()"><i class="zmdi zmdi-plus"></i> Aggiungi Azienda</a>
          </div>
          <div ng-if="showCompanyInput" class="m-t-10">
            <input type="text" ng-model="companyObj"
            uib-typeahead="company as company.name for company in getCompanies($viewValue)"
            class="form-control input-inline" placeholder="Inserisci Azienda">
            <a href="" ng-click="addCompany(companyObj)" class="btn btn-orange waves-effect">Aggiungi</a>
          </div>
        </dd>
      </dl>
      <div class="m-t-30">
        <button type="submit" class="btn btn-primary btn-block">SALVA</button>
      </div>
    </form>
  </div>
</div>
