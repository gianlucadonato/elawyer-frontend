<section class="page-view m-t-25">
  <div class="container">
    <div class="card" id="profile-main" style="min-height:800px;">
      <div class="pm-overview c-overflow">
        <div class="pmo-pic">
          <div class="p-relative">
            <a href="">
              <img class="img-responsive" ng-src="{{company.avatar_url}}" default-src company="true" alt="avatar">
            </a>
            <div class="dropdown pmop-message">
              <button uib-dropdown-toggle class="btn bgm-white btn-float">
                <i class="zmdi zmdi-city"></i>
              </button>
            </div>
          </div>
          <div class="pmo-stat">
            <h2 class="m-0 c-white">{{company.name}}</h2>
            {{company.email}}
          </div>
        </div>
        <div class="pmo-block pmo-items hidden-xs" style="padding-bottom:0;">
          <h2>Proprietari ({{company.owners.length || 0}})</h2>
          <div class="pmob-body">
            <div class="row">
              <a ui-sref="profile.details(owner)" class="col-xs-2" ng-repeat="owner in company.owners"
                tooltip-placement="bottom" uib-tooltip="{{owner.name}}">
                <img class="img-circle" ng-src="{{owner.avatar_url}}" default-src random="true">
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="pm-body clearfix">
        <ul class="tab-nav tn-justified">
          <li class="btn-wave" data-ui-sref-active="active"><a href="">Nuova Azienda</a></li>
        </ul>

        <!-- DATA CONTENT -->
        <div class="pmb-block">
          <div class="pmbb-header">
            <h2><i class="zmdi zmdi-account-circle m-r-5"></i> Crea Azienda</h2>
          </div>
          <div class="pmbb-body p-l-30">
            <form class="pmbb-edit" ng-submit="createCompany(company)">
              <dl class="dl-horizontal">
                <dt class="p-t-10">Ragione Sociale</dt>
                <dd>
                  <div class="fg-line">
                    <input data-ng-model="company.name" type="text" class="form-control" placeholder="eg. ACME" required>
                  </div>
                </dd>
              </dl>
              <dl class="dl-horizontal">
                <dt class="p-t-10">Email</dt>
                <dd>
                  <div class="fg-line">
                    <input data-ng-model="company.email" type="email" class="form-control"  placeholder="eg. acme@gmail.com">
                  </div>
                </dd>
              </dl>
              <dl class="dl-horizontal">
                <dt class="p-t-10">Descrizione</dt>
                <dd>
                  <div class="fg-line">
                    <input data-ng-model="company.description" type="text" class="form-control" placeholder="Inserisci Descrizione">
                  </div>
                </dd>
              </dl>
              <dl class="dl-horizontal">
                <dt class="p-t-10">Sede legale</dt>
                <dd>
                  <div class="fg-line">
                    <input type="text" ng-model="company.address" placeholder="Inserisci Indirizzo" uib-typeahead="address for address in getLocation($viewValue)" typeahead-loading="loadingLocations" class="form-control">
                  </div>
                </dd>
              </dl>
              <dl class="dl-horizontal">
                <dt class="p-t-10">Telefono Fisso</dt>
                <dd>
                  <div class="fg-line">
                    <input data-ng-model="company.phone" type="text" class="form-control" data-input-mask="{mask: '0000 000000'}" placeholder="eg. 0422 123321">
                  </div>
                </dd>
              </dl>
              <dl class="dl-horizontal">
                <dt class="p-t-10">Telefono Cellulare</dt>
                <dd>
                  <div class="fg-line">
                    <input data-ng-model="company.mobile_phone" type="text" class="form-control" data-input-mask="{mask: '000 0000000'}" placeholder="eg. 340 1231986">
                  </div>
                </dd>
              </dl>
              <dl class="dl-horizontal">
                <dt class="p-t-10">Partita Iva</dt>
                <dd>
                  <div class="fg-line">
                    <input data-ng-model="company.vat_number" type="text" class="form-control" placeholder="P.Iva">
                  </div>
                </dd>
              </dl>
              <dl class="dl-horizontal">
                <dt class="p-t-10">Proprietari</dt>
                <dd>
                  <div class="m-t-10">
                    <ul style="padding-left: 15px;">
                      <li ng-repeat="owner in company.owners">
                        {{owner.name}}
                        <a href="" ng-click="removeOwner(owner)" style="margin-left:5px;color:red;">X</a>
                      </li>
                    </ul>
                    <a href="" ng-click="showAddOwner()"><i class="zmdi zmdi-plus"></i> Aggiungi Proprietario</a>
                  </div>
                  <div ng-if="showOwnerInput" class="m-t-10">
                    <input type="text" ng-model="ownerObj"
                    uib-typeahead="owner as owner.name for owner in getOwners($viewValue)"
                    class="form-control input-inline" placeholder="Inserisci Proprietario">
                    <a href="" ng-click="addOwner(ownerObj)" class="btn btn-orange waves-effect">Aggiungi</a>
                  </div>
                </dd>
              </dl>
              <div class="m-t-30">
                <button type="submit" class="btn btn-primary btn-block">SALVA</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
